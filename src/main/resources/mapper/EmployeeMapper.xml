<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.course.graphql.springboot.mybatis.infrastructure.mapper.EmployeeMapper">
  <!-- 取得結果とDtoとのマッピング定義-->
  <resultMap id="employeeMap" type="EmployeeDto">
    <id property="employeeId" column="EMPLOYEE_ID"/>
    <result property="employeeName" column="EMPLOYEE_NAME"/>
    <result property="department" column="DEPARTMENT_ID" />
    <result property="gender" column="GENDER"/>
  </resultMap>

  <sql id="baseSelect">
    SELECT
      EMPLOYEE_ID,
      EMPLOYEE_NAME,
      DEPARTMENT_ID,
      GENDER
    FROM
      EMPLOYEE
  </sql>

  <select id="fetchEmployeeById" resultMap="employeeMap">
    <include refid="baseSelect"/>
      WHERE
        EMPLOYEE_ID = #{employeeId}
  </select>

  <select id="fetchEmployeeAll" resultMap="employeeMap">
    <include refid="baseSelect"/>
  </select>

</mapper>